# lonworks 井盖开发

## 目标

将智能井盖以lonworks节点的形式接如lonworks网络，使得网络可以通过查看和编辑网络变量，对井盖进行监控。lonworks节点与井盖之间使用原RS485上的简易103规约指令。

1. 网关A将其485总线上所连接的井盖状态映射至其网络变量
2. 网关B将根据其网络变量状态，对其485总线上链接的IED进行应答 
3. 网管A与网管B之间的通过Lonworks网络对各自网络变量进行连接映射
4. 对IED以及井盖的单片机程序不做修改

## 连接示意图

USB适配器-节点A-节点B
*lonworks双绞线接口不分阴阳极。

## 实现步骤

1. 实现NV变量与串口缓存之间的映射关系
2. 将NV变量与103规约报文的映射

